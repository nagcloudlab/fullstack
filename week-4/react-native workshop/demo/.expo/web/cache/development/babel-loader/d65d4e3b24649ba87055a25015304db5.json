{"ast":null,"code":"import client from \"./client\";\nvar endpoint = \"listings\";\n\nvar getListings = function getListings() {\n  return client.get(endpoint);\n};\n\nvar addListing = function addListing(listing, callback) {\n  var data = new FormData();\n  data.append(\"title\", listing.title);\n  data.append(\"price\", listing.price);\n  data.append(\"categoryId\", listing.category.value);\n  data.append(\"description\", listing.description);\n  listing.images.forEach(function (image, index) {\n    return data.append(\"images\", {\n      name: \"image\" + index,\n      type: \"image/jpeg\",\n      uri: image\n    });\n  });\n  if (listing.location) data.append(\"location\", JSON.stringify(listing.location));\n  return client.post(endpoint, data, {\n    onUploadProgress: function onUploadProgress(progress) {\n      callback(progress.loaded / progress.total);\n    }\n  });\n};\n\nexport default {\n  getListings: getListings,\n  addListing: addListing\n};","map":{"version":3,"sources":["/Users/nag/Desktop/fullstack/week-4/react-native workshop/demo/app/api/listings.js"],"names":["client","endpoint","getListings","get","addListing","listing","callback","data","FormData","append","title","price","category","value","description","images","forEach","image","index","name","type","uri","location","JSON","stringify","post","onUploadProgress","progress","loaded","total"],"mappings":"AACA,OAAOA,MAAP;AAEA,IAAMC,QAAQ,GAAG,UAAjB;;AACA,IAAMC,WAAW,GAAG,SAAdA,WAAc;AAAA,SAAMF,MAAM,CAACG,GAAP,CAAWF,QAAX,CAAN;AAAA,CAApB;;AAEA,IAAMG,UAAU,GAAG,SAAbA,UAAa,CAACC,OAAD,EAAUC,QAAV,EAAuB;AAEtC,MAAMC,IAAI,GAAG,IAAIC,QAAJ,EAAb;AACAD,EAAAA,IAAI,CAACE,MAAL,CAAY,OAAZ,EAAqBJ,OAAO,CAACK,KAA7B;AACAH,EAAAA,IAAI,CAACE,MAAL,CAAY,OAAZ,EAAqBJ,OAAO,CAACM,KAA7B;AACAJ,EAAAA,IAAI,CAACE,MAAL,CAAY,YAAZ,EAA0BJ,OAAO,CAACO,QAAR,CAAiBC,KAA3C;AACAN,EAAAA,IAAI,CAACE,MAAL,CAAY,aAAZ,EAA2BJ,OAAO,CAACS,WAAnC;AAEAT,EAAAA,OAAO,CAACU,MAAR,CAAeC,OAAf,CAAuB,UAACC,KAAD,EAAQC,KAAR;AAAA,WACnBX,IAAI,CAACE,MAAL,CAAY,QAAZ,EAAsB;AAClBU,MAAAA,IAAI,EAAE,UAAUD,KADE;AAElBE,MAAAA,IAAI,EAAE,YAFY;AAGlBC,MAAAA,GAAG,EAAEJ;AAHa,KAAtB,CADmB;AAAA,GAAvB;AAQA,MAAIZ,OAAO,CAACiB,QAAZ,EACIf,IAAI,CAACE,MAAL,CAAY,UAAZ,EAAwBc,IAAI,CAACC,SAAL,CAAenB,OAAO,CAACiB,QAAvB,CAAxB;AAEJ,SAAOtB,MAAM,CAACyB,IAAP,CAAYxB,QAAZ,EAAsBM,IAAtB,EAA4B;AAC/BmB,IAAAA,gBAAgB,EAAE,0BAACC,QAAD,EAAc;AAC5BrB,MAAAA,QAAQ,CAACqB,QAAQ,CAACC,MAAT,GAAkBD,QAAQ,CAACE,KAA5B,CAAR;AACH;AAH8B,GAA5B,CAAP;AAMH,CAzBD;;AA4BA,eAAe;AACX3B,EAAAA,WAAW,EAAXA,WADW;AAEXE,EAAAA,UAAU,EAAVA;AAFW,CAAf","sourcesContent":["\nimport client from \"./client\";\n\nconst endpoint = \"listings\"\nconst getListings = () => client.get(endpoint)\n\nconst addListing = (listing, callback) => {\n\n    const data = new FormData();\n    data.append(\"title\", listing.title);\n    data.append(\"price\", listing.price);\n    data.append(\"categoryId\", listing.category.value);\n    data.append(\"description\", listing.description);\n\n    listing.images.forEach((image, index) =>\n        data.append(\"images\", {\n            name: \"image\" + index,\n            type: \"image/jpeg\",\n            uri: image,\n        })\n    );\n\n    if (listing.location)\n        data.append(\"location\", JSON.stringify(listing.location));\n\n    return client.post(endpoint, data, {\n        onUploadProgress: (progress) => {\n            callback(progress.loaded / progress.total); // 0, 0.10 , 0.20 0.30 .... 1 üßò‚Äç\n        }\n    })\n\n}\n\n\nexport default {\n    getListings,\n    addListing,\n}"]},"metadata":{},"sourceType":"module"}